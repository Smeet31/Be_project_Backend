{"version":3,"sources":["Components/homepage/homePage.js","App.js","index.js"],"names":["s3","AWS","S3","region","accessKeyId","secretAccessKey","signatureVersion","params","Bucket","HomePage","useState","selectedFile","setSelectedFile","postObject","setPostObject","handleUpload","videoBlob","console","log","putObject","Key","Body","ContentType","ACL","err","useEffect","axios","get","then","response","data","className","onClick","localStorage","removeItem","window","location","reload","style","display","justifyContent","margin","alignItems","flexDirection","gap","width","height","onRecordingComplete","htmlFor","marginBottom","type","name","onChange","event","target","files","Button","variant","backgroundColor","color","component","Normal","Unlawful","App","ReactDOM","render","document","getElementById"],"mappings":"yTAaMA,EAAK,IAAIC,IAAIC,GAAG,CACpBC,OAPa,aAQbC,YANkB,uBAOlBC,gBANsB,2CAOtBC,iBAAkB,KAClBC,OAAQ,CACNC,OAXe,iBAuHJC,EAtGE,WACf,MAAwCC,mBAAS,MAAjD,mBAAOC,EAAP,KAAqBC,EAArB,KACA,EAAoCF,mBAAS,IAA7C,mBAAOG,EAAP,KAAmBC,EAAnB,KAIMC,EAAe,SAACC,GACpBC,QAAQC,IAAIF,GACZhB,EAAGmB,UACD,CACEC,IAAI,YACJC,KAAML,EACNM,YAAa,YACbC,IAAK,gBAEP,SAACC,GACKA,EACFP,QAAQC,IAAIM,GAEZP,QAAQC,IAAI,sBAUpBO,qBAAU,WACRC,IAAMC,IAAI,mEAAmEC,MAAK,SAACC,GACjFf,EAAce,EAASC,YAO3B,OACI,sBAAKC,UAAU,iBAAf,UACH,sBAAKA,UAAU,SAAf,UACC,uCACA,wBAAQA,UAAU,YAAYC,QARX,WACrBC,aAAaC,WAAW,SACxBC,OAAOC,SAASC,UAMd,uBAKA,sBACAN,UAAU,WACRO,MAAO,CACLC,QAAS,OACTC,eAAgB,eAChBC,OAAQ,OACRC,WAAY,UANhB,UASE,sBAEEJ,MAAO,CACLC,QAAS,OACTI,cAAe,SACfH,eAAgB,aAChBC,OAAQ,OACRC,WAAY,SACZE,IAAK,QART,UAWE,qBAAKb,UAAU,cAAcO,MAAO,CAAEO,MAAO,OAAQC,OAAQ,SAA7D,SACE,cAAC,IAAD,CACEC,oBAAqB,SAAC/B,GACpBD,EAAaC,QAInB,8BACE,wBAAOe,UAAU,SAASiB,QAAQ,wBAAlC,UACA,uBAAOV,MAAO,CAACW,aAAc,QAAUC,KAAK,OAAOC,KAAK,OAAOC,SAnDjD,SAACC,GACvBzC,EAAgByC,EAAMC,OAAOC,MAAM,OAmDzB,cAACC,EAAA,EAAD,CACEC,QAAQ,YACRnB,MAAO,CAAEoB,gBAAiB,OAAQC,MAAO,QACzC3B,QAAS,kBAAKjB,EAAaJ,IAC3BiD,UAAU,OAJZ,uCAWN,8BACE,sBAAK7B,UAAU,WAAf,UACE,6CACA,gCACE,6CAAgBlB,EAAWgD,UAAc,uBACzC,+CAAkBhD,EAAWiD,2B,oDCnG1BC,MAdf,WAEI,OACF,cAAC,EAAD,KCFFC,IAASC,OACP,cAAC,IAAD,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.cf27a42f.chunk.js","sourcesContent":["import { React, useEffect, useState } from \"react\";\r\nimport VideoRecorder from \"react-video-recorder\";\r\nimport AWS from \"aws-sdk\";\r\nimport \"./homePage.css\";\r\nimport Button from \"@mui/material/Button\";\r\nimport axios from \"axios\";\r\n\r\nconst region = \"ap-south-1\";\r\nconst bucketName = \"laveshnews3\";\r\nconst accessKeyId = \"AKIAXRZUVW5AZI45IBX6\";\r\nconst secretAccessKey = \"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\";\r\n\r\n\r\nconst s3 = new AWS.S3({\r\n  region,\r\n  accessKeyId,\r\n  secretAccessKey,\r\n  signatureVersion: \"v4\",\r\n  params: {\r\n    Bucket: bucketName,\r\n  },\r\n});\r\n\r\n\r\n\r\nconst HomePage = () => {\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [postObject, setPostObject] = useState({})\r\n\r\n  // Key: `${'video'+ count}.mp4`,\r\n\r\n  const handleUpload = (videoBlob) => {\r\n    console.log(videoBlob);\r\n    s3.putObject(\r\n      {\r\n        Key: `video.mp4`,\r\n        Body: videoBlob,\r\n        ContentType: \"video/mp4\",\r\n        ACL: \"public-read\",\r\n      },\r\n      (err) => {\r\n        if (err) {\r\n          console.log(err);\r\n        } else {\r\n          console.log(\"video uploaded\");\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const changeHandler = (event) => {\r\n\t\tsetSelectedFile(event.target.files[0]);\r\n\t};\r\n\r\n  useEffect(()=>{\r\n    axios.get('http://ec2-13-126-123-59.ap-south-1.compute.amazonaws.com:8000/').then((response)=>{\r\n      setPostObject(response.data)\r\n    })\r\n  })\r\n  const handleLogout = () => {\r\n\t\tlocalStorage.removeItem(\"token\");\r\n\t\twindow.location.reload();\r\n\t};\r\n  return (\r\n      <div className=\"main_container\">\r\n\t\t\t<nav className=\"navbar\">\r\n\t\t\t\t<h1>ASTRA</h1>\r\n\t\t\t\t<button className=\"white_btn\" onClick={handleLogout}>\r\n\t\t\t\t\tLogout\r\n\t\t\t\t</button>\r\n\t\t\t</nav>\r\n\r\n    <div\r\n    className=\"mainBody\"\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"space-evenly\",\r\n        margin: \"20px\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <div\r\n      \r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"flex-start\",\r\n          margin: \"20px\",\r\n          alignItems: \"center\",\r\n          gap: \"10px\",\r\n        }}\r\n      >\r\n        <div className=\"videoplayer\" style={{ width: \"100%\", height: \"500px\" }}>\r\n          <VideoRecorder\r\n            onRecordingComplete={(videoBlob) => {\r\n              handleUpload(videoBlob);\r\n            }}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"button\" htmlFor=\"contained-button-file\">\r\n          <input style={{marginBottom: \"10px\" }} type=\"file\" name=\"file\" onChange={changeHandler} />\r\n            <Button\r\n              variant=\"contained\"\r\n              style={{ backgroundColor: \"#fff\", color: \"#000\" }}\r\n              onClick={() =>handleUpload(selectedFile)}\r\n              component=\"span\"\r\n            >\r\n              Upload video file\r\n            </Button>\r\n          </label>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div className=\"emotions\">\r\n          <h2>Predictions</h2>\r\n          <div>\r\n            <span>Normal = {postObject.Normal}</span><br/>\r\n            <span>Unlawful = {postObject.Unlawful}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import {Route, Routes, Navigate} from \"react-router-dom\"\nimport HomePage from \"./Components/homepage/homePage\";\nimport Login from \"./Components/loginpage/loginPage\";\nimport Signup from \"./Components/signuppage/signupPage\";\n\nfunction App() {\n\t// const user = localStorage.getItem(\"token\")\n    return (\n\t\t<HomePage/>\n    //   <Routes>\n\t// \t\t{user && <Route path=\"/\" exact element={<HomePage />} />}\n\t// \t\t<Route path=\"/signup\" exact element={<Signup />} />\n\t// \t\t<Route path=\"/login\" exact element={<Login />} />\n\t// \t\t<Route path=\"/\" exact element={<Navigate replace to=\"/login\" />} />\n\t// \t</Routes>\n\t)\n\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}