{"version":3,"sources":["Components/homepage/homePage.js","App.js","index.js"],"names":["Input","styled","display","s3","Date","AWS","S3","region","accessKeyId","secretAccessKey","signatureVersion","params","Bucket","HomePage","useState","selectedFile","postObject","setPostObject","count","setCount","handleUpload","videoBlob","console","log","putObject","Key","Body","ContentType","ACL","err","useEffect","axios","get","then","response","data","className","onClick","localStorage","removeItem","window","location","reload","style","justifyContent","margin","alignItems","flexDirection","gap","width","height","onRecordingComplete","htmlFor","accept","id","multiple","type","Button","variant","backgroundColor","color","component","Normal","Unlawful","App","ReactDOM","render","document","getElementById"],"mappings":"wUASMA,EAAQC,YAAO,QAAPA,CAAgB,CAC5BC,QAAS,SAULC,GAFO,IAAIC,KAEN,IAAIC,IAAIC,GAAG,CACpBC,OARa,aASbC,YAPkB,uBAQlBC,gBAPsB,2CAQtBC,iBAAkB,KAClBC,OAAQ,CACNC,OAZe,kBAyHJC,EAvGE,WACf,MAAwCC,mBAAS,MAAjD,mBAAOC,EAAP,KACA,GADA,KACoCD,mBAAS,KAA7C,mBAAOE,EAAP,KAAmBC,EAAnB,KACA,EAA0BH,mBAAS,GAAnC,mBAAOI,EAAP,KAAcC,EAAd,KAIMC,EAAe,SAACC,GACpBC,QAAQC,IAAIF,GACZF,EAASD,EAAM,GACff,EAAGqB,UACD,CACEC,IAAI,YACJC,KAAML,EACNM,YAAa,YACbC,IAAK,gBAEP,SAACC,GACKA,EACFP,QAAQC,IAAIM,GAEZP,QAAQC,IAAI,sBAMpBO,qBAAU,WACRC,IAAMC,IAAI,8BAA8BC,MAAK,SAACC,GAC5CjB,EAAciB,EAASC,YAO3B,OACI,sBAAKC,UAAU,iBAAf,UACH,sBAAKA,UAAU,SAAf,UACC,uCACA,wBAAQA,UAAU,YAAYC,QARX,WACrBC,aAAaC,WAAW,SACxBC,OAAOC,SAASC,UAMd,uBAKA,sBACEC,MAAO,CACLzC,QAAS,OACT0C,eAAgB,eAChBC,OAAQ,OACRC,WAAY,UALhB,UAQE,sBACEH,MAAO,CACLzC,QAAS,OACT6C,cAAe,SACfH,eAAgB,aAChBC,OAAQ,OACRC,WAAY,SACZE,IAAK,QAPT,UAUE,qBAAKL,MAAO,CAAEM,MAAO,QAASC,OAAQ,SAAtC,SACE,cAAC,IAAD,CACEC,oBAAqB,SAAC9B,GACpBD,EAAaC,QAInB,8BACE,wBAAO+B,QAAQ,wBAAf,UACE,cAACpD,EAAD,CACEqD,OAAO,UACPC,GAAG,wBACHC,UAAQ,EACRC,KAAK,SAEP,cAACC,EAAA,EAAD,CACEC,QAAQ,YACRf,MAAO,CAAEgB,gBAAiB,OAAQC,MAAO,QACzCvB,QAAS,kBAAMjB,EAAaL,IAC5B8C,UAAU,OAJZ,uCAWN,8BACE,sBAAKzB,UAAU,WAAf,UACE,6CACA,gCACE,6CAAgBpB,EAAW8C,UAAc,uBACzC,+CAAkB9C,EAAW+C,2B,oDC3G1BC,MAdf,WAEI,OACF,cAAC,EAAD,KCFFC,IAASC,OACP,cAAC,IAAD,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.c602890c.chunk.js","sourcesContent":["import { React, useEffect, useState } from \"react\";\r\nimport VideoRecorder from \"react-video-recorder\";\r\nimport AWS from \"aws-sdk\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport \"./homePage.css\";\r\nimport Button from \"@mui/material/Button\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport axios from \"axios\";\r\n\r\nconst Input = styled(\"input\")({\r\n  display: \"none\",\r\n});\r\n\r\nconst region = \"ap-south-1\";\r\nconst bucketName = \"laveshnews3\";\r\nconst accessKeyId = \"AKIAXRZUVW5AZI45IBX6\";\r\nconst secretAccessKey = \"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\";\r\n\r\nconst date = new Date()\r\n\r\nconst s3 = new AWS.S3({\r\n  region,\r\n  accessKeyId,\r\n  secretAccessKey,\r\n  signatureVersion: \"v4\",\r\n  params: {\r\n    Bucket: bucketName,\r\n  },\r\n});\r\n\r\n\r\n\r\nconst HomePage = () => {\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [postObject, setPostObject] = useState({})\r\n  const [count, setCount] = useState(1)\r\n\r\n  // Key: `${'video'+ count}.mp4`,\r\n\r\n  const handleUpload = (videoBlob) => {\r\n    console.log(videoBlob);\r\n    setCount(count+1)\r\n    s3.putObject(\r\n      {\r\n        Key: `video.mp4`,\r\n        Body: videoBlob,\r\n        ContentType: \"video/mp4\",\r\n        ACL: \"public-read\",\r\n      },\r\n      (err) => {\r\n        if (err) {\r\n          console.log(err);\r\n        } else {\r\n          console.log(\"video uploaded\");\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  useEffect(()=>{\r\n    axios.get('http://localhost:8000/data').then((response)=>{\r\n      setPostObject(response.data)\r\n    })\r\n  })\r\n  const handleLogout = () => {\r\n\t\tlocalStorage.removeItem(\"token\");\r\n\t\twindow.location.reload();\r\n\t};\r\n  return (\r\n      <div className=\"main_container\">\r\n\t\t\t<nav className=\"navbar\">\r\n\t\t\t\t<h1>ASTRA</h1>\r\n\t\t\t\t<button className=\"white_btn\" onClick={handleLogout}>\r\n\t\t\t\t\tLogout\r\n\t\t\t\t</button>\r\n\t\t\t</nav>\r\n\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"space-evenly\",\r\n        margin: \"20px\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"flex-start\",\r\n          margin: \"20px\",\r\n          alignItems: \"center\",\r\n          gap: \"10px\",\r\n        }}\r\n      >\r\n        <div style={{ width: \"500px\", height: \"500px\" }}>\r\n          <VideoRecorder\r\n            onRecordingComplete={(videoBlob) => {\r\n              handleUpload(videoBlob);\r\n            }}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"contained-button-file\">\r\n            <Input\r\n              accept=\"image/*\"\r\n              id=\"contained-button-file\"\r\n              multiple\r\n              type=\"file\"\r\n            />\r\n            <Button\r\n              variant=\"contained\"\r\n              style={{ backgroundColor: \"#fff\", color: \"#000\" }}\r\n              onClick={() => handleUpload(selectedFile)}\r\n              component=\"span\"\r\n            >\r\n              Upload video file\r\n            </Button>\r\n          </label>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div className=\"emotions\">\r\n          <h2>Predictions</h2>\r\n          <div>\r\n            <span>Normal = {postObject.Normal}</span><br/>\r\n            <span>Unlawful = {postObject.Unlawful}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import {Route, Routes, Navigate} from \"react-router-dom\"\nimport HomePage from \"./Components/homepage/homePage\";\nimport Login from \"./Components/loginpage/loginPage\";\nimport Signup from \"./Components/signuppage/signupPage\";\n\nfunction App() {\n\t// const user = localStorage.getItem(\"token\")\n    return (\n\t\t<HomePage/>\n    //   <Routes>\n\t// \t\t{user && <Route path=\"/\" exact element={<HomePage />} />}\n\t// \t\t<Route path=\"/signup\" exact element={<Signup />} />\n\t// \t\t<Route path=\"/login\" exact element={<Login />} />\n\t// \t\t<Route path=\"/\" exact element={<Navigate replace to=\"/login\" />} />\n\t// \t</Routes>\n\t)\n\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}